<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Julia bindings for Bokeh">
        <meta name="author" content="Samuel Colvin">
        
        <link rel="shortcut icon" href="./img/favicon.ico">

        <title>Bokeh.jl</title>

        <link href="./css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="./css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="./css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="./css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body class="homepage">

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href=".">Bokeh.jl</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            

            
            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                
                
                <li>
                    <a href="https://github.com/bokeh/Bokeh.jl">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
            
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#bokehjl">Bokeh.jl</a></li>
        
    
        <li class="main "><a href="#instalation">Instalation</a></li>
        
    
        <li class="main "><a href="#examples">Examples</a></li>
        
            <li><a href="#hello-world">Hello World</a></li>
        
            <li><a href="#functions">Functions</a></li>
        
            <li><a href="#colours-and-simple-glyphs">Colours and Simple Glyphs</a></li>
        
            <li><a href="#hold-and-multiple-plots">Hold and Multiple Plots</a></li>
        
            <li><a href="#legend">Legend</a></li>
        
            <li><a href="#custom-glyphs">Custom Glyphs</a></li>
        
            <li><a href="#jagged-arrays">Jagged Arrays</a></li>
        
            <li><a href="#date-axes">Date Axes</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="bokehjl">Bokeh.jl</h1>
<p><a href="http://julialang.org">Julia</a> bindings for <a href="http://bokeh.pydata.org/en/latest/">Bokeh</a>.</p>
<p>Build by Samuel Colvin.</p>
<p>Released under <a href="https://github.com/bokeh/Bokeh.jl/blob/master/LICENSE.md">MIT License</a>, 
note Bokeh has a <a href="https://github.com/bokeh/bokeh/blob/master/LICENSE.txt">seperate license</a>.</p>
<h1 id="instalation">Instalation</h1>
<p>Once you're installed julia simple run </p>
<pre><code>Pkg.add("Bokeh")
</code></pre>
<p>From the julia terminal.</p>
<!-- TODO: Gallery with some bling here -->

<h1 id="examples">Examples</h1>
<p>Bokeh.jl's usage and capacities are best demonstrated with examples.</p>
<h3 id="hello-world">Hello World</h3>
<p><a href="./examples/hello_world.html"><img alt="view" src="./examples/hello_world.png" /></a></p>
<p>This is about the simplest example. By default autoopen is false so we set it to <code>true</code> here
so the plot is opened in your default browser as soon as we call <code>plot</code>.</p>
<pre><code>using Bokeh

autoopen(true)

x = linspace(0, 2pi)
y = sin(x)
plot(x, y)
</code></pre>
<p><a href="./examples/hello_world.jl">get source</a></p>
<h3 id="functions">Functions</h3>
<p><a href="./examples/functions.html"><img alt="view" src="./examples/functions.png" /></a></p>
<p>Bokeh.jl tries hard to share it's interface with <a href="">TextPlots.jl</a> particularly for functions.</p>
<pre><code>using Bokeh

plotfile("functions.html")

plot(sin) # this uses the default range of -10 to 10
plot(sin, 0:20)
# the two plots above won't be shown since we haven't set hold, see below

plot([sin, cos, tan, sinh, cosh, tanh], -1:1)
showplot()
</code></pre>
<p><a href="./examples/functions.jl">get source</a></p>
<ul>
<li>We've used <code>plotfile</code> to stipulate the name of the html file generated by showplot</li>
<li>Here we didn't set <code>autoopen(true)</code> so we've manually prompted bokeh to create and display the plot</li>
</ul>
<h3 id="colours-and-simple-glyphs">Colours and Simple Glyphs</h3>
<p><a href="./examples/simple_glyphs.html"><img alt="view" src="./examples/simple_glyphs.png" /></a></p>
<p>In the example above you'll notice we've passed a vector of functions to plot. Similarly we can pass
a jagged array (vector of vectors) or matrix to plot each column.</p>
<pre><code>using Bokeh

x = linspace(0, 2pi)
y1 = sin(x)
y2 = cos(x)
y3 = tan(x)
plot([y1 y2 y3]) # since we haven't passed x this would use the range 1:100

plot(x, [y1 y2 y3], "rs|bo|g*")
showplot()
</code></pre>
<p><a href="./examples/simple_glyphs.jl">get source</a></p>
<ul>
<li>You'll notice in the previous "functions" example that we plotted multiple lines so Bokeh.jl invented colours
and effects for each one. Here instead we've set the colours and glyphs manually, in this case <code>sin</code>
is displayed as red squares, <code>cos</code> as blue circles and <code>tan</code> as green stars. For a full list of glyphs and colours, 
check <a href="./TODO">https://github.com/bokeh/Bokeh.jl/blob/master/src/glyphs.jl#L93</a>.</li>
<li>Here we used a Matrix the columns of which become the datasets on the graph, see below for an example of using
jagged arrays</li>
</ul>
<h3 id="hold-and-multiple-plots">Hold and Multiple Plots</h3>
<p><a href="./examples/hold.html"><img alt="view" src="./examples/hold.png" /></a></p>
<p>You can use hold to call <code>plot</code> multiple times and combine the results in one display.</p>
<pre><code>using Bokeh

x = linspace(-3pi, 3pi)
y1 = cos(x)
plot(x,y1)

hold(true)

y2 = sin(x)./x
plot(x, y2, "r")
showplot()
</code></pre>
<p><a href="./examples/hold.jl">get source</a></p>
<h3 id="legend">Legend</h3>
<p><a href="./examples/legend.html"><img alt="view" src="./examples/legend.png" /></a></p>
<pre><code>using Bokeh
autoopen(true)

plotfile("legend.html")

y1 = [-10:10].^2
y2 = [-10:10].^3
plot([y1 y2], legends=["x^2", "x^3"], legendsgo=:bottom_right)
</code></pre>
<p><a href="./examples/legend.jl">get source</a></p>
<ul>
<li>By default plots go top left but here we've put it bottom left as neither <code>x^2</code> nor <code>x^3</code> go there.</li>
</ul>
<h3 id="custom-glyphs">Custom Glyphs</h3>
<p><a href="./examples/custom_glyphs.html"><img alt="view" src="./examples/custom_glyphs.png" /></a></p>
<p>Bokeh allows virtually any property of a glyph to be linked to the data. To do this we define
a custom glyph and map some of it's properties to generated data.</p>
<pre><code>using Bokeh
using Compat
autoopen(true)

function pallette(y)
    # this method simply maps a continuously varying vector to these 11 colours
    colours = ["#000000", "#190000", "#320000", "#4b0000", "#640000", "#7d0000", "#960000", 
               "#af0000", "#c80000", "#e10000", "#ff0000"]
    low = minimum(y)
    high= maximum(y)
    y_ints = Int64[floor(9.99*(x-low)/(high-low)) + 1 for x in y]
    [colours[i] for i in y_ints]
end

omega = 0:0.1:2pi
# x and y simply describe a circle of radius 1
x1 = cos(omega)
y1 = sin(omega)

# size is just another varying vector used to plot something pretty
size1 = map(x -&gt; 0.1 - 0.05*cos(4x), omega)

data1 = @compat Dict{Symbol, Vector}(:x =&gt; x1, :y =&gt; y1, :size =&gt; size1, :colours =&gt; pallette(size1))

x2 = x1*0.8
y2 = y1*0.8
size2 = map(x -&gt; 0.1 + 0.05*cos(4x), omega)

data2 = @compat Dict{Symbol, Vector}(:x =&gt; x2, :y =&gt; y2, :size =&gt; size2, :colours =&gt; pallette(size2))

fields = @compat Dict{Symbol, Symbol}(:fillcolor=&gt;:colours, :size=&gt;:size)
varying_glyph = Glyph(:Circle, linewidth=1, linecolor="transparent", fields=fields)
# note that varying_glyph is independent of the actual data so it can be reused
plot([BokehDataSet(data1, varying_glyph), BokehDataSet(data2, varying_glyph)], title="Custom Glyphs")
</code></pre>
<p><a href="./examples/custom_glyphs.jl">get source</a></p>
<ul>
<li><code>Glyph</code> is the underlying type used to store data about how a dataset is displayed. Normally when the style is defined
with a string <code>"--r"</code> it is <a href="https://github.com/bokeh/Bokeh.jl/blob/master/src/glyphs.jl#L136">simply mapped</a> to a <code>Glyph</code> .</li>
<li><code>BokehDataSet</code> is the underlying type used to combine data and the glyph. Normally plot creates these types from
the data and glyph information passed to it, the vector of <code>BokehDataSet</code> is then just extended if plot is called again
with <code>hold</code> on.</li>
<li>the <code>Dict</code> definitions here will not work with Julia <code>v0.4</code>, see <a href="">this</a> testing example for a <code>v0.4</code> implementation.</li>
</ul>
<h3 id="jagged-arrays">Jagged Arrays</h3>
<p><a href="./examples/jagged_arrays.html"><img alt="view" src="./examples/jagged_arrays.png" /></a></p>
<p>Julia much prefers matrices to Jagged arrays (vectors of vectors), however in certain situations they can be very 
useful, eg. where you want some datasets to have more points on some than others.</p>
<pre><code>using Bokeh
autoopen(true)

x1 = linspace(0, 2pi, 10)
x2 = linspace(0, 2pi, 20)

xs=Vector[x1, x2]
ys=Vector[sin(x1), cos(x2)]
glyphsize(20)  # adjust the default glyph size
plot(xs, ys, "ro|ko")
</code></pre>
<p><a href="./examples/jagged_arrays.jl">get source</a></p>
<h3 id="date-axes">Date Axes</h3>
<p><a href="./examples/dates.html"><img alt="view" src="./examples/dates.png" /></a></p>
<p>Bokeh.jl can render either the x or y axis as date axes, this can be done either by using Int vectors and passing
the <code>x_axis_type/y_axis_type</code> keyword arguments to <code>plot</code> or by passing vectors of <code>Dates</code> objects.</p>
<p>The example below uses <code>Dates</code> objects, for the ints approach, see 
<a href="https://github.com/bokeh/Bokeh.jl/blob/master/test/test-cases/dates1.jl">this</a> testing example.</p>
<pre><code>using Bokeh
using Dates # this is for julia &lt; 0.4, for &gt;=0.4 you would need Base.Dates

start = now()
days = 720
x = map(d -&gt; start + Dates.Day(d), 1:days)
y1 = cumsum(rand(days) - 0.5)
small_bit = (maximum(y1) - minimum(y1))*0.02
y2 = y1 + (2*rand(days) - 1) * small_bit
glyphs = [Glyph(:Line, linecolor="red"), 
          Glyph(:Circle, fillcolor="rgba(255, 77, 255, 0.4)", size=6, linecolor="transparent")]
plot(x, [y1 y2], glyphs, title="Share Price Prediction", legends=["Average", "Closing Price"])
showplot()
</code></pre>
<p><a href="./examples/dates.jl">get source</a></p>
<ul>
<li>because we want to set the second dataset points to be semi transparent we've had to define <code>Glyph</code> types directly. </li>
</ul>
</div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="./js/bootstrap-3.0.3.min.js"></script>
        <script src="./js/prettify-1.0.min.js"></script>
        <script src="./js/highlight.pack.js"></script>
        <script src="./js/base.js"></script>
    </body>
</html>